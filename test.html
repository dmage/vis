<!DOCTYPE html>
<html>

<head>
<meta charset="utf-8">
<title>Vis.js</title>
<link rel="stylesheet" type="text/css" href="blocks/b-axis/b-axis.css">
<link rel="stylesheet" type="text/css" href="blocks/b-chart/b-chart.css">
<link rel="stylesheet" type="text/css" href="b-box.css">
<link rel="stylesheet" type="text/css" href="b-9.css">
<link rel="stylesheet" type="text/css" href="b-layout.css">
<link rel="stylesheet" type="text/css" href="b-loading.css">
<script src="http://yandex.st/jquery/1.9.1/jquery.min.js"></script>
<script src="vis.js"></script>
<script>
$(function() {
    console.log(Units.format(+new Date()/1000, 'unixtime'));

    Vis(
        {
            $object: $('.b-chart'),
            tAxes: [
                {
                    rangeProvider: {
                        name: 'i-current-time-range-provider',
                    },
                },
                {
                    rangeProvider: {
                        name: 'i-current-time-range-provider',
                        period: 300
                    }
                }
            ],
            xAxes: [
                { rangeProvider: { name: 'i-static-range-provider' }, pos: 'top' },
                { rangeProvider: { name: 'i-time-range-provider' }, units: "unixtime" },
                { rangeProvider: { name: 'i-time-range-provider' }, units: "unixtime", tAxisNo: 1 },
            ],
            yAxes: [
                { rangeProvider: { name: 'i-data-range-provider' }, pos: 'left' },
                { rangeProvider: { name: 'i-static-range-provider' } },
                { rangeProvider: { name: 'i-static-range-provider' }, pos: 'left' },
                { rangeProvider: { name: 'i-static-range-provider' } }
            ],
            items: [
                { dataProvider: { name: 'i-math-data-provider', factor: 0.01, step: 3 }, xAxisNo: 1 },
                {
                    dataProvider: {
                        name: 'i-hammy-data-provider',
                        url: 'http://localhost/data',
                        object: 'test',
                        key: 'sin'
                    },
                    tAxisNo: 1,
                    xAxisNo: 2
                }
            ],
            overlays: [
                { name: 'b-grid-overlay' },
                { name: 'b-render-overlay' }
            ]
        },
        'b-chart'
    );

    TaskScheduler.run(
        TaskScheduler.PRIO_DATA,
        [
            function() { console.log('step1', arguments); this.next() },
            function() { console.log('step2', arguments); this.next() }
        ],
        { args: [1, 2, 3] }
    );
});
</script>
</head>

<body>
<h1>Vis.js</h1>

<div class="b-chart"></div>

<table class="b-9">
<tr>
    <td class="b-9__tl"></td>
    <td class="b-9__tc"><div class="b-box"></div></td>
    <td class="b-9__tr"></td>
</tr>
<tr>
    <td class="b-9__ml"><div class="b-box"></div></td>
    <td class="b-9__mc"><div style="background: #99f; width: 100%; height: 102px"></div></td>
    <td class="b-9__mr"><div class="b-box"></div></td>
</tr>
<tr>
    <td class="b-9__bl"></td>
    <td class="b-9__bc"><div style="height: 1.2em"><div class="b-axis"></div></div></td>
    <td class="b-9__br"></td>
</tr>
</table>
</body>

<div class="b-box" style="position: relative; width: 640px; height: 480px"><div class="b-loading"><i class="b-loading__bar"></i><i class="b-loading__bar"></i><i class="b-loading__bar"></i></div></div>

</html>
